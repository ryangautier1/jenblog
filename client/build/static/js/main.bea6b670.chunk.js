(this.webpackJsonpjenblog=this.webpackJsonpjenblog||[]).push([[0],{33:function(e,t,a){e.exports=a(66)},38:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(30),o=a.n(r),c=(a(38),a(11)),m=a(2),s=a(6),i=a(3),d=a(1),u=a.n(d),f=function(e){return u.a.post("/api/user-login/login",e)},g=function(e,t,a){var n="?search[]=";return e.map((function(t){return e.indexOf(t)!==e.length-1?n+=t+"&search[]=":n+=t})),t&&(n+="&limit="+t),a&&(n+="&skip="+a),u.a.get("/api/youtube"+n)},b=function(e){return u.a.get("/api/youtube/"+e)},p=function(e){return u.a.post("/api/youtube",e)},v=function(e){return u.a.get("/api/ytcomment/"+e)},x=function(){return u.a.get("/api/ytcomment")},E=function(e){return u.a.post("/api/ytcomment",e)},h=function(e,t){return u.a.put("/api/ytcomment/"+e,t)},y=function(e){return u.a.delete("/api/youtube/"+e)},w=function(e){return u.a.delete("/api/ytcomment/delete/"+e)},N=function(){return u.a.get("/api/user-login/user_data")},j=function(){return u.a.get("/api/user-login/logout")},O=function(e){return u.a.post("/api/textpost",e)},k=function(e,t,a){var n="?search[]=";return e.map((function(t){return e.indexOf(t)!==e.length-1?n+=t+"&search[]=":n+=t})),t&&(n+="&limit="+t),a&&(n+="&skip="+a),u.a.get("/api/textpost"+n)},B=function(e){return u.a.get("/api/textpost/"+e)},I=function(e){return u.a.delete("/api/textpost/"+e)},S=function(){return u.a.get("/api/textpostcomment")},L=function(e){return u.a.get("/api/textpostcomment/"+e)},_=function(e){return u.a.post("/api/textpostcomment",e)},C=function(e,t){return u.a.put("/api/textpostcomment/"+e,t)},D=function(e){return u.a.delete("/api/textpostcomment/delete/"+e)};var M=function(e){var t=Object(n.useState)("youtube"),a=Object(m.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)([]),i=Object(m.a)(s,2),d=i[0],u=i[1],f=Object(n.useRef)(),g=Object(n.useRef)(),b=Object(n.useRef)(),v=Object(n.useRef)(),x=Object(n.useRef)(),E=Object(n.useRef)();Object(n.useEffect)((function(){document.getElementById("tagsrow").clientWidth>300&&(document.getElementById("tagsrow").classList.remove("sm:ml-6"),document.getElementById("tagsrow").classList.remove("sm:mt-0"),document.getElementById("tagsrow").classList.add("w-full"),document.getElementById("tagsrow").classList.add("mt-2"))}),[d]);var h=function(e){o(e)},y=function(){f.current.value="","youtube"===r&&(b.current.value="",g.current.value="",v.current.value=""),"text"===r&&(x.current.value=""),E.current.value="",u([])};return l.a.createElement("div",null,l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"text-sm shadow border-2 border-gray-100 hover:text-red-500 hover:bg-gray-100 focus:outline-none text-white font-bold py-2 px-2 sm:px-4",id:"admin-modal-open",onClick:function(){e.toggleModal("admin-modal")}},"add new")),l.a.createElement("div",{className:"modal-bg hidden opacity-50 z-10 bg-black fixed top-0 left-0",id:"admin-modal-bg"}),l.a.createElement("div",{id:"admin-modal",className:"fixed modal right-0 left-0 mx-auto border hidden bg-white z-20 p-5"},l.a.createElement("div",{className:"flex flex-row mb-2 content-center h-10"},"youtube"===r?l.a.createElement("div",{className:"mx-3 text-red-700 text-3xl cursor-pointer nav-icon",onClick:function(){return h("youtube")}},l.a.createElement("i",{className:"fab fa-youtube"})):l.a.createElement("div",{className:"mx-3 text-gray-700 text-2xl cursor-pointer nav-icon",onClick:function(){return h("youtube")}},l.a.createElement("i",{className:"fab fa-youtube"})),"text"===r?l.a.createElement("div",{className:"p-1 text-red-700 text-2xl cursor-pointer nav-icon",onClick:function(){return h("text")}},l.a.createElement("i",{className:"fas fa-quote-left"})):l.a.createElement("div",{className:"p-1 text-gray-700 text-xl cursor-pointer nav-icon",onClick:function(){return h("text")}},l.a.createElement("i",{className:"fas fa-quote-left"}))),l.a.createElement("form",{className:"mb-4"},l.a.createElement("label",{htmlFor:"#titleinput"},"text"===r?"Subject":"Title"),l.a.createElement("input",{className:"mb-2 bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-200",type:"text",id:"titleinput",ref:f}),l.a.createElement("p",{className:"hidden text-red-600 text-sm italic",id:"titlewarning"},"You must enter a title"),"youtube"===r?l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"#dateinput"},"Date Uploaded"),l.a.createElement("input",{className:"mb-2 bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-200",type:"date",id:"dateinput",ref:b}),l.a.createElement("p",{className:"hidden text-red-600 text-sm italic",id:"datewarning"},"You must enter a date"),l.a.createElement("label",{htmlFor:"#videolink"},"Embed Code"),l.a.createElement("input",{className:"mb-2 bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-200",type:"text",id:"videolink",ref:g}),l.a.createElement("p",{className:"hidden text-red-600 text-sm italic",id:"embedwarning"},"You must enter a valid embed code"),l.a.createElement("label",{htmlFor:"#captioninput"},"Caption (Optional)"),l.a.createElement("textarea",{className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-200",id:"captioninput",ref:v})):l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"#textpostinput"},"Body"),l.a.createElement("textarea",{className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-200",id:"textpostinput",ref:x}),l.a.createElement("p",{className:"hidden text-red-600 text-sm italic",id:"textpostwarning"},"You must enter content for your post")),l.a.createElement("div",{className:"flex flex-row flex-wrap mb-2"},l.a.createElement("label",{htmlFor:"#tagsinput",className:"w-full"},"Tags"),l.a.createElement("br",null),l.a.createElement("div",{className:"relative tags"},l.a.createElement("input",{className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-200",type:"text",id:"tagsinput",ref:E}),l.a.createElement("i",{className:"fas fa-plus absolute right-0 bottom-0 mb-3 text-gray-600 mr-2",onClick:function(){!function(){var e=Object(c.a)(d);e.includes(E.current.value)||""===E.current.value||e.push(E.current.value),u(e),E.current.value=""}()}})),d?l.a.createElement("div",{className:"overflow-auto ml-0 sm:ml-6 sm:mt-0 mt-2 flex flex-row",id:"tagsrow"},d.map((function(e){return l.a.createElement("div",{className:"mx-1 bg-gray-300 py-2 pr-1 pl-3 rounded-full whitespace-no-wrap",key:e},e,l.a.createElement("i",{className:"fas fa-times ml-2 mr-1 text-gray-500 cursor-pointer",onClick:function(){!function(e){var t=d.filter((function(t){return t!==e}));u(t)}(e)}}))}))):null)),l.a.createElement("div",{className:"flex flex-row"},l.a.createElement("button",{type:"submit",className:"text-sm shadow border-2 border-red-500 hover:text-red-700 hover:border-red-700 focus:outline-none text-red-500 font-bold py-2 px-2 sm:px-4",onClick:function(t){return function(t){if(t.preventDefault(),"youtube"===r){var a;if(""===f.current.value)return document.getElementById("titleinput").classList.remove("border-gray-200"),document.getElementById("titleinput").classList.add("border-red-400"),void document.getElementById("titlewarning").classList.remove("hidden");if(""===b.current.value)return document.getElementById("dateinput").classList.remove("border-gray-200"),document.getElementById("dateinput").classList.add("border-red-400"),void document.getElementById("datewarning").classList.remove("hidden");if(""===g.current.value)return document.getElementById("videoinput").classList.remove("border-gray-200"),document.getElementById("videoinput").classList.add("border-red-400"),void document.getElementById("videowarning").classList.remove("hidden");var n={title:f.current.value,date:b.current.value,video:g.current.value.split('src="')[1].split('"')[0]};""!==v.current.value&&(n.caption=v.current.value);var l=[];""===E.current.value||d.includes(E.current.value)||(l=[E.current.value]),(a=l).push.apply(a,Object(c.a)(d)),l!==[]&&(n.tags=l),p(n).then((function(){y(),e.toggleModal("admin-modal"),window.location.replace("/")})).catch((function(e){return console.log(e)}))}else if("text"===r){var o,m;if(""===x.current.value)return document.getElementById("textpostinput").classList.remove("border-gray-200"),document.getElementById("textpostinput").classList.add("border-red-400"),void document.getElementById("textpostwarning").classList.remove("hidden");document.getElementById("textpostinput").classList.add("border-gray-200"),document.getElementById("textpostinput").classList.remove("border-red-400"),document.getElementById("textpostwarning").classList.add("hidden"),m=""!==f.current.value?{title:f.current.value,date:Date.now(),body:x.current.value}:{date:Date.now(),body:x.current.value};var s=[];""===E.current.value||d.includes(E.current.value)||(s=[E.current.value]),(o=s).push.apply(o,Object(c.a)(d)),s!==[]&&(m.tags=s),O(m).then((function(){y(),e.toggleModal("admin-modal"),window.location.replace("/")})).catch((function(e){return console.log(e)}))}}(t)}},"submit"),l.a.createElement("button",{type:"button",className:"ml-2 text-sm shadow bg-red-500 hover:bg-red-700 focus:outline-none text-gray-100 font-bold py-2 px-2 sm:px-4",onClick:function(){y(),e.toggleModal("admin-modal")}},"close"))))};var q=function(e){var t=e.toggleModal,a=e.userState,n=e.handleLogout;return l.a.createElement("header",null,l.a.createElement("div",{className:"min-w-full py-2 px-4 bg-white flex flex-row justify-between z-20 relative header-gradient"},l.a.createElement(s.b,{to:"/"},l.a.createElement("h1",{className:"text-3xl varta text-gray-100"},"blog site")),l.a.createElement("div",null,a?l.a.createElement("div",{className:"flex flex-row"},l.a.createElement(M,{toggleModal:t}),l.a.createElement("button",{type:"button",className:"ml-2 text-sm shadow border-2 border-gray-100 hover:text-red-500 hover:bg-gray-100 focus:outline-none text-white font-bold py-2 px-2 sm:px-4",onClick:function(){return n()}},"logout")):l.a.createElement(s.b,{to:"/admin"},l.a.createElement("button",{className:"text-sm shadow border-2 border-gray-100 hover:text-red-500 hover:bg-gray-100 focus:outline-none text-white font-bold py-2 px-4"},"sign in")))))};var R=function(){return l.a.createElement("footer",{className:"flex flex-row pt-3 text-gray-200 opacity-75 bg-gray-600 justify-around"},l.a.createElement("div",{className:"pt-4 text-3xl sm:text-4xl flex justify-center w-6/12"},l.a.createElement("i",{className:"fab px-4 fa-youtube"}),l.a.createElement("i",{className:"fab px-4 fa-instagram"}),l.a.createElement("i",{className:"fab px-4 fa-tumblr-square"})),l.a.createElement("div",{className:"pt-4 w-6/12 text-md sm:text-lg"},l.a.createElement("p",null,"email@gmail.com",l.a.createElement("br",null),"+1(555)-555-5555")))};var F=function(e){var t=e.searchState,a=e.removeTerm,r=e.handleSearch,o=Object(n.useRef)();return Object(n.useEffect)((function(){function e(){window.scrollY>60?(document.getElementById("search").classList.add("fixed","top-0"),document.getElementById("search").classList.remove("relative"),document.getElementsByTagName("main")[0].classList.add("extra-margin")):(document.getElementById("search").classList.remove("fixed","top-0"),document.getElementById("search").classList.add("relative"),document.getElementsByTagName("main")[0].classList.remove("extra-margin"))}return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}})),l.a.createElement("div",{className:"py-2 px-5 border-b border-gray-500 flex flex-row flex-wrap bg-white w-full left-0 z-10 content-center relative",id:"search"},l.a.createElement("form",{className:"search relative",onSubmit:function(e){r(e,o.current.value),o.current.value=""}},l.a.createElement("input",{placeholder:"Search",type:"text",ref:o,className:"rounded-full border border-gray-500 px-3 py-1 relative w-full"}),l.a.createElement("i",{className:"fas fa-search absolute right-0 bottom-0 mb-2 text-gray-600 mr-2"})),l.a.createElement("div",{className:"overflow-auto ml-0 sm:ml-6 mt-2 sm:mt-0 flex flex-row"},t.map((function(e){return l.a.createElement("div",{className:"mx-1 bg-gray-300 py-1 pr-1 pl-3 rounded-full whitespace-no-wrap",key:e},e,l.a.createElement("i",{className:"fas fa-times ml-2 mr-1 text-gray-500 cursor-pointer",onClick:function(){a(e)}}))}))))};var Y=function(e){var t=e.toggleModal,a=e.id,n=e.title,r=e.type,o=e.deleteVideo,c=e.deleteTextPost;return l.a.createElement("div",null,l.a.createElement("div",{className:"absolute top-0 right-0 w-8 h-8 text-lg text-center text-white font-bold opacity-50 bg-black rounded-full cursor-pointer",onClick:function(){return t(a+"delete-modal")}},"X"),l.a.createElement("div",{className:"modal-bg hidden opacity-50 z-10 bg-black fixed top-0 left-0",id:a+"delete-modal-bg"}),l.a.createElement("div",{id:a+"delete-modal",className:"fixed delete-modal right-0 left-0 mx-auto border hidden bg-white z-20 p-5"},n?l.a.createElement("p",{className:"text-gray-700 mb-4"},'Are you sure you want to delete "',n,'" and its comments?'):l.a.createElement("p",{className:"text-gray-700 mb-4"},"Are you sure you want to delete this post and its comments?"),l.a.createElement("div",{className:"flex flex-row"},l.a.createElement("button",{type:"button",className:"mr-2 bg-red-700 hover:bg-red-800 text-white font-bold py-2 px-4 rounded",onClick:function(){"video"===r?o():"textpost"===r&&c()}},"I'm Sure"),l.a.createElement("button",{type:"button",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:function(){return t(a+"delete-modal")}},"Nevermind"))))};var z=function(e){var t=e.id,a=e.body,r=e.date,o=e.title,c=e.comments,m=e.tags;return Object(n.useEffect)((function(){document.getElementById(t+"-text").clientHeight>200&&document.getElementById(t+"-fade").classList.remove("hidden")})),l.a.createElement(s.b,{to:"/text/"+t},l.a.createElement("div",{className:"thumbnail-card mb-4 cursor-pointer p-4"},l.a.createElement("p",{className:"varta overflow-hidden text-thumbnail-body",id:t+"-text"},a,l.a.createElement("span",{className:"text-thumbnail-fade hidden",id:t+"-fade"})),l.a.createElement("h2",{className:"lato text-lg text-gray-900 text-bold"},o),l.a.createElement("div",{className:"text-md text-blue-700"},r),c?c>1?l.a.createElement("div",{className:"text-md text-gray-700"},c," Comments"):l.a.createElement("div",{className:"text-md text-gray-700"},c," Comment"):null,m?l.a.createElement("div",{className:"flex flex-wrap flex-row"},m.map((function(e){return l.a.createElement("div",{className:"text-md text-gray-500",key:e},m.indexOf(e)!==m.length-1?l.a.createElement("span",{className:"mr-1"},"#",e):l.a.createElement("span",null,"#",e))}))):null))};var P=function(e){var t=e.video,a=e.id,n=e.related,r=e.title,o=e.date,c=e.comments,m=e.tags,i=t.split("/"),d="https://img.youtube.com/vi/"+(i=i[i.length-1])+"/0.jpg";return l.a.createElement(s.b,{to:"/video/"+a},l.a.createElement("div",{className:"thumbnail-card mb-4 cursor-pointer p-3"},n?l.a.createElement("img",{src:d,alt:r,className:"mb-2 related-img"}):l.a.createElement("img",{src:d,alt:r,className:"mb-2"}),l.a.createElement("h2",{className:"lato text-lg text-gray-900 text-bold"},r),l.a.createElement("div",{className:"text-md text-blue-700"},o),c?c>1?l.a.createElement("div",{className:"text-md text-gray-700"},c," Comments"):l.a.createElement("div",{className:"text-md text-gray-700"},c," Comment"):null,m?l.a.createElement("div",{className:"flex flex-wrap flex-row"},m.map((function(e){return l.a.createElement("div",{className:"text-md text-gray-500",key:e},m.indexOf(e)!==m.length-1?l.a.createElement("span",{className:"mr-1"},"#",e):l.a.createElement("span",null,"#",e))}))):null))};var T=function(e){var t=e.tags,a=e.formatDates,r=e.id,o=Object(n.useState)([]),c=Object(m.a)(o,2),s=c[0],i=c[1],d=Object(n.useState)([]),u=Object(m.a)(d,2),f=u[0],b=u[1],p=Object(n.useState)([]),v=Object(m.a)(p,2),E=v[0],h=v[1];return Object(n.useEffect)((function(){if(void 0!==t){g(t,3).then((function(e){x().then((function(n){k(t,3).then((function(t){S().then((function(l){var r=e.data.concat(t.data);r.sort((function(e,t){return new Date(t.date)-new Date(e.date)})),a(n.data,"comment"),a(r,"post"),a(l.data,"comment"),i(r),b(n.data),h(l.data)})).catch((function(e){return console.log("error getting text post comments",e)}))})).catch((function(e){return console.log("error getting text posts",e)}))})).catch((function(e){return console.log("error getting youtube comments",e)}))})).catch((function(e){return console.log("error getting youtube videos",e)}))}}),[t]),l.a.createElement("aside",{className:"xl:ml-2"},l.a.createElement("h1",{className:"xl:text-center mb-2"},"You may also be interested in..."),l.a.createElement("div",{className:"flex xl:flex-col flex-row overflow-x-auto xl:overflow-hidden mx-5"},s.map((function(e){if(e._id===r)return null;if(e.video){var t=f.filter((function(t){return t.video===e._id}));return void 0!==t[0]?l.a.createElement("div",{className:"related block mx-1 animate__animated animate__fadeIn",key:e._id},l.a.createElement(P,{id:e._id,title:e.title,date:e.date,video:e.video,tags:e.tags,related:!0,comments:t[0].comments.length})):l.a.createElement("div",{className:"related block mx-1 animate__animated animate__fadeIn",key:e._id},l.a.createElement(P,{id:e._id,title:e.title,date:e.date,tags:e.tags,related:!0,video:e.video}))}if(e.body){var a=E.filter((function(t){return t.textpost===e._id}));return void 0!==a[0]?l.a.createElement("div",{className:"related block mx-1 animate__animated animate__fadeIn",key:e._id},l.a.createElement(z,{id:e._id,title:e.title,date:e.date,body:e.body,caption:e.caption,tags:e.tags,related:!0,comments:a[0].comments.length})):l.a.createElement("div",{className:"related block mx-1 animate__animated animate__fadeIn",key:e._id},l.a.createElement(z,{id:e._id,title:e.title,date:e.date,body:e.body,caption:e.caption,related:!0,tags:e.tags}))}}))))};var H=function(e){var t=Object(i.f)().id,a=Object(n.useState)(!1),r=Object(m.a)(a,2),o=r[0],c=r[1],d=e.formatDates,u=e.userState,f=e.toggleModal,g=Object(n.useState)(localStorage.getItem("jenBlogName")),p=Object(m.a)(g,2),x=p[0],N=p[1],j=Object(n.useState)(!1),O=Object(m.a)(j,2),k=O[0],B=O[1],I=Object(n.useRef)(),S=Object(n.useRef)();Object(n.useEffect)((function(){b(t).then((function(e){d(e.data,"single"),c(e.data),v(t).then((function(e){d(e.data,"comments"),e.data&&B(e.data[0])})).catch((function(){console.log("no comments")}))})).catch((function(e){return console.log(e)}))}),[t]);var L=!1,_=function(){document.getElementById(t+"submit-button").classList.remove("hidden")};return l.a.createElement("div",null,l.a.createElement(s.b,{to:"/blog"},l.a.createElement("p",{className:"mt-8 ml-4 sm:ml-8 text-gray-600 hover:text-gray-800 inline-block"},l.a.createElement("i",{className:"fas fa-angle-double-left"}),"   Home")),l.a.createElement("main",{className:"mt-4 mx-1 pb-2 sm:mx-16 xl:flex xl:flex-row xl:justify-around"},l.a.createElement("div",{className:"flex-shrink-0 videos"},l.a.createElement("div",{key:t,className:"mb-5 relative text-gray-700"},u?l.a.createElement(Y,{id:t,title:o.title,toggleModal:f,deleteVideo:function(){k?y(t).then((function(){w(k._id).then((function(){f(t+"delete-modal"),window.location.replace("/blog")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})):y(t).then((function(){f(t+"delete-modal"),window.location.replace("/blog")})).catch((function(e){console.log(e)}))},type:"video"}):l.a.createElement("div",null),l.a.createElement("span",{className:"text-lg sm:text-xl pl-2 sm:pl-0 lato"},o.title),l.a.createElement("br",null),l.a.createElement("span",{className:"text-gray-700 text-sm pl-2 sm:pl-0 lato"},o.date),l.a.createElement("div",{className:"yt-container mt-2"},l.a.createElement("iframe",{src:o.video,title:o.title,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})),l.a.createElement("div",{className:"mt-1 mb-3"},o.caption),o.tags?l.a.createElement("div",{className:"flex flex-wrap flex-row mb-2"},o.tags.map((function(e){return l.a.createElement("div",{className:"text-md text-gray-500",key:e},o.tags.indexOf(e)!==o.tags.length-1?l.a.createElement("span",{className:"mr-1"},"#",e):l.a.createElement("span",null,"#",e))}))):null,l.a.createElement("hr",null),l.a.createElement("form",{className:"flex flex-col mt-3"},x?l.a.createElement("div",null,l.a.createElement("div",{className:"flex flex-row"},l.a.createElement("div",null,"Hello, ",x,"!"),l.a.createElement("div",{className:"ml-5 text-gray-500 cursor-pointer",onClick:function(){localStorage.removeItem("jenBlogName"),N(localStorage.getItem("jenBlogName"))}},"Not you?")),l.a.createElement("div",{className:"flex flex-row mt-1"},l.a.createElement("input",{className:"appearance-none bg-transparent w-full py-2 px-4 text-gray-700 border-b leading-tight border-transparent focus:border-gray-600 focus:outline-none",type:"text",onClick:_,placeholder:"Add comment...",ref:S}),l.a.createElement("button",{className:"hidden ml-2 shadow bg-blue-400 hover:bg-blue-500 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4",type:"submit",id:t+"submit-button",onClick:function(e){!function(e,t){e.preventDefault();var a=new Date,n=a.getMonth()+1+"-"+a.getDate()+"-"+a.getFullYear();if(k){var l={author:x,date:n,comment:S.current.value};h(t,l).then((function(){v(t).then((function(e){d(e.data,"comments"),B(e.data[0]),S.current.value=""})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}else E({video:t,comments:[{author:x,date:n,comment:S.current.value}]}).then((function(){v(t).then((function(e){d(e.data,"comments"),B(e.data[0]),S.current.value=""})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}(e,t)}},"Submit"))):l.a.createElement("div",null,l.a.createElement("p",{className:"mb-1"},"Would you like to add a comment? Start by entering your name:"),l.a.createElement("div",{className:"flex flex-row"},l.a.createElement("input",{className:"appearance-none bg-transparent w-full py-2 px-4 text-gray-700 border-b leading-tight border-transparent focus:border-gray-600 focus:outline-none",type:"text",onClick:_,placeholder:"Your name here...",ref:I}),l.a.createElement("button",{className:"hidden ml-2 shadow bg-blue-400 hover:bg-blue-500 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4",type:"submit",id:t+"submit-button",onClick:function(e){!function(e,t){e.preventDefault(),""!==t&&(localStorage.setItem("jenBlogName",t),N(localStorage.getItem("jenBlogName")),I.current.value="")}(e,I.current.value)}},"Submit")))),k?l.a.createElement("div",{className:"comments-section mx-4 mb-2 mt-5 p-2 varta"},l.a.createElement("div",{className:"flex justify-between border-b border-gray-700 mb-2 pr-1 pb-1"},k.comments.length," comments",l.a.createElement("i",{id:"arrow-"+t,className:"fas fa-caret-square-down pt-1 cursor-pointer",onClick:function(){L?(document.getElementById("comments-section-"+t).classList.add("hidden"),document.getElementById("arrow-"+t).classList.remove("fa-caret-square-up"),document.getElementById("arrow-"+t).classList.add("fa-caret-square-down")):(document.getElementById("comments-section-"+t).classList.remove("hidden"),document.getElementById("arrow-"+t).classList.add("fa-caret-square-up"),document.getElementById("arrow-"+t).classList.remove("fa-caret-square-down")),L=!L}})),l.a.createElement("div",{id:"comments-section-"+t,className:"hidden"},k.comments.map((function(e){return l.a.createElement("div",{className:"text-md text-gray-700 mb-3",key:e._id},l.a.createElement("span",{className:"font-bold mr-2"},e.author),l.a.createElement("span",{className:"text-sm"},e.date),l.a.createElement("br",null),e.comment)})))):l.a.createElement("div",{className:"mt-2"},"Be the first to comment!"))),l.a.createElement(T,{tags:o.tags,formatDates:d,id:t})))};var W=function(e){var t=Object(i.f)().id,a=Object(n.useState)(!1),r=Object(m.a)(a,2),o=r[0],c=r[1],d=e.formatDates,u=e.userState,f=e.toggleModal,g=Object(n.useState)(localStorage.getItem("jenBlogName")),b=Object(m.a)(g,2),p=b[0],v=b[1],x=Object(n.useState)(!1),E=Object(m.a)(x,2),h=E[0],y=E[1],w=Object(n.useRef)(),N=Object(n.useRef)();Object(n.useEffect)((function(){B(t).then((function(e){d(e.data,"single"),c(e.data),L(t).then((function(e){d(e.data,"comments"),e.data&&y(e.data[0].comments)})).catch((function(){console.log("no comments")}))})).catch((function(e){return console.log(e)}))}),[t]);var j=!1,O=function(){document.getElementById(t+"submit-button").classList.remove("hidden")};return l.a.createElement("div",null,l.a.createElement(s.b,{to:"/blog"},l.a.createElement("p",{className:"mt-8 ml-4 sm:ml-8 text-gray-600 hover:text-gray-800 inline-block"},l.a.createElement("i",{className:"fas fa-angle-double-left"}),"   Home")),l.a.createElement("main",{className:"mt-4 mx-1 pb-2 sm:mx-16 xl:flex xl:flex-row xl:justify-around"},l.a.createElement("div",{className:"flex-shrink-0 videos"},l.a.createElement("div",{key:t,className:"mb-5 relative text-gray-700"},u?l.a.createElement(Y,{id:t,title:o.title,toggleModal:f,deleteTextPost:function(){h?I(t).then((function(){D(h._id).then((function(){f(t+"delete-modal"),window.location.replace("/blog")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})):I(t).then((function(){f(t+"delete-modal"),window.location.replace("/blog")})).catch((function(e){console.log(e)}))},type:"textpost"}):l.a.createElement("div",null),o.title?l.a.createElement("span",{className:"text-lg sm:text-xl pl-2 sm:pl-0 lato"},o.title):null,l.a.createElement("br",null),l.a.createElement("span",{className:"text-gray-700 text-sm pl-2 sm:pl-0 lato"},o.date),l.a.createElement("div",{className:"tp-container mt-2"},o.body),l.a.createElement("div",{className:"mt-1 mb-3"},o.caption),o.tags?l.a.createElement("div",{className:"flex flex-wrap flex-row mb-2"},o.tags.map((function(e){return l.a.createElement("div",{className:"text-md text-gray-500",key:e},o.tags.indexOf(e)!==o.tags.length-1?l.a.createElement("span",{className:"mr-1"},"#",e):l.a.createElement("span",null,"#",e))}))):null,l.a.createElement("hr",null),l.a.createElement("form",{className:"flex flex-col mt-3"},p?l.a.createElement("div",null,l.a.createElement("div",{className:"flex flex-row"},l.a.createElement("div",null,"Hello, ",p,"!"),l.a.createElement("div",{className:"ml-5 text-gray-500 cursor-pointer",onClick:function(){localStorage.removeItem("jenBlogName"),v(localStorage.getItem("jenBlogName"))}},"Not you?")),l.a.createElement("div",{className:"flex flex-row mt-1"},l.a.createElement("input",{className:"appearance-none bg-transparent w-full py-2 px-4 text-gray-700 border-b leading-tight border-transparent focus:border-gray-600 focus:outline-none",type:"text",onClick:O,placeholder:"Add comment...",ref:N}),l.a.createElement("button",{className:"hidden ml-2 shadow bg-blue-400 hover:bg-blue-500 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4",type:"submit",id:t+"submit-button",onClick:function(e){!function(e,t){e.preventDefault();var a=new Date,n=a.getMonth()+1+"-"+a.getDate()+"-"+a.getFullYear();if(h){var l={author:p,date:n,comment:N.current.value};C(t,l).then((function(){L(t).then((function(e){d(e.data,"comments"),y(e.data[0].comments),N.current.value=""})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}else _({textpost:t,comments:[{author:p,date:n,comment:N.current.value}]}).then((function(){L(t).then((function(e){d(e.data,"comments"),y(e.data[0].comments),N.current.value=""})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}(e,t)}},"Submit"))):l.a.createElement("div",null,l.a.createElement("p",{className:"mb-1"},"Would you like to add a comment? Start by entering your name:"),l.a.createElement("div",{className:"flex flex-row"},l.a.createElement("input",{className:"appearance-none bg-transparent w-full py-2 px-4 text-gray-700 border-b leading-tight border-transparent focus:border-gray-600 focus:outline-none",type:"text",onClick:O,placeholder:"Your name here...",ref:w}),l.a.createElement("button",{className:"hidden ml-2 shadow bg-blue-400 hover:bg-blue-500 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4",type:"submit",id:t+"submit-button",onClick:function(e){!function(e,t){e.preventDefault(),""!==t&&(localStorage.setItem("jenBlogName",t),v(localStorage.getItem("jenBlogName")),w.current.value="")}(e,w.current.value)}},"Submit")))),h.length>0?l.a.createElement("div",{className:"comments-section mx-4 mb-2 mt-5 p-2 varta"},l.a.createElement("div",{className:"flex justify-between border-b border-gray-700 mb-2 pr-1 pb-1"},h.length," comments ",l.a.createElement("i",{id:"arrow-"+t,className:"fas fa-caret-square-up pt-1 cursor-pointer",onClick:function(){j?(document.getElementById("comments-section-"+t).classList.add("hidden"),document.getElementById("arrow-"+t).classList.remove("fa-caret-square-up"),document.getElementById("arrow-"+t).classList.add("fa-caret-square-down")):(document.getElementById("comments-section-"+t).classList.remove("hidden"),document.getElementById("arrow-"+t).classList.add("fa-caret-square-up"),document.getElementById("arrow-"+t).classList.remove("fa-caret-square-down")),j=!j}})),l.a.createElement("div",{id:"comments-section-"+t},h.map((function(e){return l.a.createElement("div",{className:"text-md text-gray-700 mb-3",key:e._id},l.a.createElement("span",{className:"font-bold mr-2"},e.author),l.a.createElement("span",{className:"text-sm"},e.date),l.a.createElement("br",null),e.comment)})))):l.a.createElement("div",{className:"mt-2"},"Be the first to comment!"))),l.a.createElement(T,{tags:o.tags,formatDates:d,id:t})))},A=a(32),J=a.n(A);var U=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)([]),s=Object(m.a)(c,2),i=s[0],d=s[1],u=Object(n.useState)([]),f=Object(m.a)(u,2),b=f[0],p=f[1],v=Object(n.useState)(!1),E=Object(m.a)(v,2),y=E[0],w=E[1],N=Object(n.useState)(!1),j=Object(m.a)(N,2),O=j[0],B=j[1],I=e.toggleModal;Object(n.useEffect)((function(){L()}),[]),Object(n.useEffect)((function(){o([]),L()}),[e.searchState]),Object(n.useEffect)((function(){var e=document.querySelector(".grid");new J.a(e,{itemSelector:".grid-item",percentPosition:!0,gutter:10})}),[O]);var L=function(){B(!1),w(!1),g(e.searchState).then((function(t){x().then((function(a){k(e.searchState).then((function(e){S().then((function(n){0===t.data.length&&0===e.data.length&&w(!0);var l=t.data.concat(e.data);l.sort((function(e,t){return new Date(t.date)-new Date(e.date)})),_(a.data,"comment"),_(l,"post"),_(n.data,"comment"),o(l),d(a.data),p(n.data),B(!0)})).catch((function(e){return console.log("error getting text post comments",e)}))})).catch((function(e){return console.log("error getting text posts",e)}))})).catch((function(e){return console.log("error getting youtube comments",e)}))})).catch((function(e){return console.log("error getting youtube videos",e)}))},_=function(e,t){if("post"===t)for(var a=0;a<e.length;a++){var n=e[a].date.split("-");n=[n[1],n[2].substring(0,2),n[0]],e[a].date=n.join("-")}else for(var l=0;l<e.length;l++)for(var r=0;r<e[l].comments.length;r++){var o=e[l].comments[r].date.split("-");o=[o[1],o[2].substring(0,2),o[0]],e[l].comments[r].date=o.join("-")}},C=function(e,t,a){h(e,t).then((function(){L(),a.current.value=""})).catch((function(e){console.log(e)}))};return l.a.createElement("main",{className:"mt-8 sm:mx-6 md:mx-16 mx-2 pb-2 inner-shadow z-0"},O&&!y?l.a.createElement("div",null,l.a.createElement("div",{className:"w-full grid animate__animated animate__fadeIn"},r.map((function(e){if(e.video){var t=i.filter((function(t){return t.video===e._id}));return void 0!==t[0]?l.a.createElement("div",{className:"grid-item"},l.a.createElement(P,{key:e._id,id:e._id,toggleModal:I,updatePage:L,title:e.title,date:e.date,video:e.video,tags:e.tags,comments:t[0].comments.length})):l.a.createElement("div",{className:"grid-item"},l.a.createElement(P,{key:e._id,id:e._id,toggleModal:I,updatePage:L,title:e.title,date:e.date,tags:e.tags,video:e.video}))}if(e.body){var a=b.filter((function(t){return t.textpost===e._id}));return void 0!==a[0]?l.a.createElement("div",{className:"grid-item"},l.a.createElement(z,{key:e._id,id:e._id,toggleModal:I,updateComments:C,updatePage:L,title:e.title,date:e.date,body:e.body,caption:e.caption,tags:e.tags,comments:a[0].comments.length})):l.a.createElement("div",{className:"grid-item"},l.a.createElement(z,{key:e._id,id:e._id,toggleModal:I,updatePage:L,title:e.title,date:e.date,body:e.body,caption:e.caption,tags:e.tags}))}})))):O?l.a.createElement("div",null,l.a.createElement("p",{className:"lato text-gray-700 text-3xl"},"No results :|")):l.a.createElement("div",{className:"w-full fixed top-0 left-0 h-full loading-page flex justify-center items-center z-0"},l.a.createElement("p",{className:"lato text-gray-100 text-3xl"},"Loading...")))};a(65);var V=function(){var e=Object(n.useRef)(),t=Object(n.useRef)();return l.a.createElement("form",{className:"px-4 mx-auto mt-12 w-full max-w-md"},l.a.createElement("div",{className:"md:flex md:items-center mb-6"},l.a.createElement("div",{className:"md:w-1/3"},l.a.createElement("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",htmlFor:"username"},"Username")),l.a.createElement("div",{className:"md:w-2/3"},l.a.createElement("input",{className:"bg-white rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none",id:"username",type:"text",placeholder:"JennyBenedict",ref:e}))),l.a.createElement("div",{className:"md:flex md:items-center mb-6"},l.a.createElement("div",{className:"md:w-1/3"},l.a.createElement("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",htmlFor:"password"},"Password")),l.a.createElement("div",{className:"md:w-2/3"},l.a.createElement("input",{className:"bg-white rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none",id:"password",type:"password",placeholder:"******",ref:t}))),l.a.createElement("div",{className:"md:flex md:items-center"},l.a.createElement("div",{className:"md:w-1/3"}),l.a.createElement("div",{className:"md:w-2/3"},l.a.createElement("button",{className:"shadow bg-red-500 hover:bg-red-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4",onClick:function(a){a.preventDefault(),f({username:e.current.value,password:t.current.value}).then((function(){console.log("logged in"),window.location.replace("/")})).catch((function(e){console.log("Couldn't log in... ",e)}))}},"Login"))))};var X=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),d=Object(m.a)(o,2),u=d[0],f=d[1];Object(n.useEffect)((function(){N().then((function(e){f(!0)})).catch((function(e){console.log("Not logged in"),f(!1)}))}),[]);var g=function(e,t){if("post"===t)for(var a=0;a<e.length;a++){var n=e[a].date.split("-");n=[n[1],n[2].substring(0,2),n[0]],e[a].date=n.join("-")}else if("single"===t){var l=e.date.split("-");l=[l[1],l[2].substring(0,2),l[0]],e.date=l.join("-")}else for(var r=0;r<e.length;r++)for(var o=0;o<e[r].comments.length;o++){var c=e[r].comments[o].date.split("-");c=[c[1],c[2].substring(0,2),c[0]],e[r].comments[o].date=c.join("-")}},b=!0,p=function(e){(b=!b)?(document.getElementById(e).classList.add("hidden"),document.getElementById(e+"-bg").classList.add("hidden")):(document.getElementById(e).classList.remove("hidden"),document.getElementById(e+"-bg").classList.remove("hidden"))};return l.a.createElement("div",null,l.a.createElement(s.a,null,l.a.createElement(q,{toggleModal:p,userState:u,handleLogout:function(){j().then((function(){f(!1),window.location.reload()})).catch((function(e){return console.log(e)}))}}),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:["/","/blog"]},l.a.createElement(F,{handleSearch:function(e,t){e.preventDefault();var n=t;a.includes(n)||r([].concat(Object(c.a)(a),[n]))},removeTerm:function(e){var t=a.filter((function(t){return t!==e}));r(t)},searchState:a}),l.a.createElement(U,{searchState:a,toggleModal:p})),l.a.createElement(i.a,{path:["/video/:id"]},l.a.createElement(H,{formatDates:g,userState:u,toggleModal:p})),l.a.createElement(i.a,{path:["/text/:id"]},l.a.createElement(W,{formatDates:g,userState:u,toggleModal:p})),l.a.createElement(i.a,{exact:!0,path:["/admin"]},l.a.createElement(V,null))),l.a.createElement(R,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.bea6b670.chunk.js.map